CHIP DMux4Way {
    IN in, sel[2];
    OUT a, b, c, d;

    PARTS:
        // First split by sel[1]
        DMux(in=in, sel=sel[1], a=upper, b=lower);

        // Further split upper by sel[0]
        DMux(in=upper, sel=sel[0], a=a, b=b);

        // Further split lower by sel[0]
        DMux(in=lower, sel=sel[0], a=c, b=d);
}
